"use strict";(self.webpackChunkdyte_docs=self.webpackChunkdyte_docs||[]).push([["26413"],{84327:function(e,t,i){i.r(t),i.d(t,{dyte_plugins_toggle:function(){return o}});var n=i(84982),s=i(48724),r=i(83041),a=i(39415),l=i(53077);i(51943),i(78410),i(81479);let o=class{constructor(e){(0,n.r)(this,e),this.stateUpdate=(0,n.c)(this,"dyteStateUpdate",7),this.updateCanView=()=>{this.canViewPlugins=(0,l.b)(this.meeting)},this.variant="button",this.meeting=void 0,this.states=void 0,this.size=void 0,this.iconPack=s.d,this.t=(0,r.u)(),this.pluginsActive=!1,this.canViewPlugins=!1}disconnectedCallback(){var e,t,i,n;this.removeStateChangeListener&&this.removeStateChangeListener(),null===(t=null===(e=this.meeting)||void 0===e?void 0:e.stage)||void 0===t||t.removeListener("stageStatusUpdate",this.updateCanView),null===(n=null===(i=this.meeting)||void 0===i?void 0:i.self)||void 0===n||n.permissions.removeListener("pluginsUpdate",this.updateCanView)}connectedCallback(){this.statesChanged(this.states),this.meetingChanged(this.meeting),this.removeStateChangeListener=(0,a.o)("sidebar",()=>this.statesChanged())}meetingChanged(e){var t,i;null!=e&&(this.canViewPlugins=(0,l.b)(e),null===(t=null==e?void 0:e.stage)||void 0===t||t.on("stageStatusUpdate",this.updateCanView),null===(i=null==e?void 0:e.self)||void 0===i||i.permissions.addListener("pluginsUpdate",this.updateCanView))}statesChanged(e){let t=e||a.s;null!=t&&(this.pluginsActive=!0===t.activeSidebar&&"plugins"===t.sidebar)}togglePlugins(){let e=this.states||a.s;this.pluginsActive=!((null==e?void 0:e.activeSidebar)&&(null==e?void 0:e.sidebar)==="plugins"),this.stateUpdate.emit({activeSidebar:this.pluginsActive,sidebar:this.pluginsActive?"plugins":void 0,activeMoreMenu:!1,activeAI:!1}),a.s.activeSidebar=this.pluginsActive,a.s.sidebar=this.pluginsActive?"plugins":void 0,a.s.activeMoreMenu=!1,a.s.activeAI=!1}render(){if(!this.canViewPlugins)return;let e=this.t("plugins");return(0,n.h)(n.H,{title:e},(0,n.h)("dyte-controlbar-button",{part:"controlbar-button",size:this.size,iconPack:this.iconPack,t:this.t,class:{active:this.pluginsActive},onClick:()=>this.togglePlugins(),icon:this.iconPack.rocket,label:e,variant:this.variant}))}static get watchers(){return{meeting:["meetingChanged"],states:["statesChanged"]}}};o.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{display:block}"},81479:function(e,t,i){i.d(t,{F:function(){return s},d:function(){return l},i:function(){return r},u:function(){return a}});var n=i(78410);let s={PLAY_PARTICIPANT_TILE_VIDEO_ON_PAUSE:"play_participant_tile_video_on_pause",DISABLE_EMOJI_PICKER:"disable_emoji_picker",FEAT_PAGINATED_CHAT:"feat_paginated_chat",LOG_PLAYING_FAILURES:"log_playing_failures",FEAT_CHANNEL_CHAT:"feat_channel_chat",FEAT_PARTICIPANT_LIST:"feat_participant_list",DISABLE_KICKING:"disable_kicking",ADMIN_CANTREMOVE_ADMIN:"admin_cantremove_admin",CANTINVITE_VIEWER:"cantinvite_viewer",PINNED_MESSAGES:"pinned_msgs"},r=e=>e.connectedMeetings.supportsConnectedMeetings,a=e=>{var t;return(null==e?void 0:e.meta.viewType)==="CHAT"||(0,n.s)(e)||(null===(t=null==e?void 0:e.__internals__)||void 0===t?void 0:t.features.hasFeature("feat_paginated_chat"))},l=e=>{var t,i;return(null===(t=null==e?void 0:e.__internals__)||void 0===t?void 0:t.browserSpecs.isFirefox())&&(null===(i=null==e?void 0:e.__internals__)||void 0===i?void 0:i.features.hasFeature("disable_firefox_setting_sink_id"))}},78410:function(e,t,i){var n,s,r,a;i.d(t,{P:function(){return n},a:function(){return l},b:function(){return s},c:function(){return c},d:function(){return d},i:function(){return o},s:function(){return u}});let l=e=>!!u(e)&&"LIVESTREAM"===e.meta.viewType&&"ON_STAGE"!==e.stage.status,o=e=>{var t;return!!u(e)&&"LIVESTREAM"===e.meta.viewType&&(null===(t=null==e?void 0:e.self)||void 0===t?void 0:t.permissions.canLivestream)},u=e=>{var t;return(null===(t=null==e?void 0:e.self)||void 0===t?void 0:t.permissions.isV2)&&(null==e?void 0:e.livestream)};(r=n||(n={})).BUFFERING="Buffering",r.ENDED="Ended",r.IDLE="Idle",r.PLAYING="Playing",r.READY="Ready",(a=s||(s={})).INITIALIZED="PlayerInitialized",a.QUALITY_CHANGED="PlayerQualityChanged",a.DURATION_CHANGED="PlayerDurationChanged",a.VOLUME_CHANGED="PlayerVolumeChanged",a.MUTED_CHANGED="PlayerMutedChanged",a.PLAYBACK_RATE_CHANGED="PlayerPlaybackRateChanged",a.REBUFFERING="PlayerRebuffering",a.AUDIO_BLOCKED="PlayerAudioBlocked",a.PLAYBACK_BLOCKED="PlayerPlaybackBlocked",a.ERROR="PlayerError",a.RECOVERABLE_ERROR="PlayerRecoverableError",a.ANALYTICS_EVENT="PlayerAnalyticsEvent",a.TIME_UPDATE="PlayerTimeUpdate",a.BUFFER_UPDATE="PlayerBufferUpdate",a.SEEK_COMPLETED="PlayerSeekCompleted",a.SESSION_DATA="PlayerSessionData",a.STATE_CHANGED="PlayerStateChanged",a.WORKER_ERROR="PlayerWorkerError",a.METADATA="PlayerMetadata",a.TEXT_CUE="PlayerTextCue",a.TEXT_METADATA_CUE="PlayerTextMetadataCue",a.AD_CUE="PlayerAdCue",a.STREAM_SOURCE_CUE="PlayerStreamSourceCue",a.NETWORK_UNAVAILABLE="PlayerNetworkUnavailable",a.SEGMENT_DISCONTINUITY="PlayerSegmentDiscontinuity",a.SEGMENT_METADATA="PlayerSegmentMetadata",a.PLAYER_METADATA="PlayerMetadata";let c=[s.TIME_UPDATE,s.BUFFER_UPDATE,s.TEXT_METADATA_CUE,s.PLAYER_METADATA],d=[s.REBUFFERING,s.AUDIO_BLOCKED,s.PLAYBACK_BLOCKED,s.ERROR,s.RECOVERABLE_ERROR,s.WORKER_ERROR,s.NETWORK_UNAVAILABLE,s.ANALYTICS_EVENT,s.PLAYBACK_RATE_CHANGED,s.QUALITY_CHANGED,s.INITIALIZED]},53077:function(e,t,i){i.d(t,{a:function(){return l},b:function(){return o},c:function(){return r},d:function(){return a}});var n=i(78410),s=i(81479);let r=e=>{if(e&&!e.chat)return!1;let t=null==e?void 0:e.self.config;if(t&&!t.controlBar.elements.chat)return!1;let{chatPublic:i,chatPrivate:n}=e.self.permissions;return i.canSend||i.text||i.files||n.canSend||n.canReceive||n.files||n.text},a=e=>{if(e&&!e.polls)return!1;let t=null==e?void 0:e.self.config;if(t&&!t.controlBar.elements.polls)return!1;let{polls:i}=e.self.permissions;return i.canCreate||i.canView||i.canVote},l=e=>{var t,i,r,a;if((null===(t=null==e?void 0:e.__internals__)||void 0===t?void 0:t.features.hasFeature(s.F.FEAT_PARTICIPANT_LIST))&&!(null===(i=e.self.permissions)||void 0===i?void 0:i.showParticipantList)||(0,n.s)(e)&&!(null===(r=e.self.permissions)||void 0===r?void 0:r.acceptStageRequests)||e&&!e.participants)return!1;if("LIVESTREAM"===e.meta.viewType)return e.self.permissions.acceptStageRequests||(null===(a=null==e?void 0:e.stage)||void 0===a?void 0:a.status)==="ON_STAGE";let l=null==e?void 0:e.self.config;return(!l||!!l.controlBar.elements.participants)&&!0},o=e=>{if((0,n.a)(e)||e&&!e.plugins)return!1;if("LIVESTREAM"===e.meta.viewType)return"ON_STAGE"===e.stage.status;let t=null==e?void 0:e.self.config;if(t&&!t.controlBar.elements.plugins)return!1;let{plugins:i}=e.self.permissions;return i.canClose||i.canStart}},39415:function(e,t,i){let n;i.d(t,{o:function(){return A},s:function(){return g}});var s,r=i(84982),a=i(51943);let l=(e,t,i)=>{let n=e.get(t);n?!n.includes(i)&&n.push(i):e.set(t,[i])},o=e=>!("isConnected"in e)||e.isConnected;let u=(s=e=>{for(let t of e.keys())e.set(t,e.get(t).filter(o))},(...e)=>{n&&clearTimeout(n),n=setTimeout(()=>{n=0,s(...e)},2e3)}),c=()=>{if("function"!=typeof r.g)return{};let e=new Map;return{dispose:()=>e.clear(),get:t=>{let i=(0,r.g)();i&&l(e,t,i)},set:t=>{let i=e.get(t);i&&e.set(t,i.filter(r.f)),u(e)},reset:()=>{e.forEach(e=>e.forEach(r.f)),u(e)}}},d=e=>"function"==typeof e?e():e,E=(e,t=(e,t)=>e!==t)=>{let i=d(e),n=new Map(Object.entries(null!=i?i:{})),s={dispose:[],get:[],set:[],reset:[]},r=()=>{var t;n=new Map(Object.entries(null!==(t=d(e))&&void 0!==t?t:{})),s.reset.forEach(e=>e())},a=e=>(s.get.forEach(t=>t(e)),n.get(e)),l=(e,i)=>{let r=n.get(e);t(i,r,e)&&(n.set(e,i),s.set.forEach(t=>t(e,i,r)))},o="undefined"==typeof Proxy?{}:new Proxy(i,{get:(e,t)=>a(t),ownKeys:e=>Array.from(n.keys()),getOwnPropertyDescriptor:()=>({enumerable:!0,configurable:!0}),has:(e,t)=>n.has(t),set:(e,t,i)=>(l(t,i),!0)}),u=(e,t)=>(s[e].push(t),()=>{f(s[e],t)});return{state:o,get:a,set:l,on:u,onChange:(t,i)=>{let n=u("set",(e,n)=>{e===t&&i(n)}),s=u("reset",()=>i(d(e)[t]));return()=>{n(),s()}},use:(...e)=>{let t=e.reduce((e,t)=>(t.set&&e.push(u("set",t.set)),t.get&&e.push(u("get",t.get)),t.reset&&e.push(u("reset",t.reset)),t.dispose&&e.push(u("dispose",t.dispose)),e),[]);return()=>t.forEach(e=>e())},dispose:()=>{s.dispose.forEach(e=>e()),r()},reset:r,forceUpdate:e=>{let t=n.get(e);s.set.forEach(i=>i(e,t,t))}}},f=(e,t)=>{let i=e.indexOf(t);i>=0&&(e[i]=e[e.length-1],e.length--)},{state:g,onChange:A}=((e,t)=>{let i=E(e,void 0);return i.use(c()),i})({prefs:(0,a.g)()})},51943:function(e,t,i){let n;i.d(t,{a:function(){return r},b:function(){return o},c:function(){return c},g:function(){return u},s:function(){return l}});let s={get:(e,t,i)=>(...n)=>{try{return Reflect.get(e,t,i).apply(e,n)}catch(e){return null}}};try{n=new Proxy(localStorage,s)}catch(e){n=new Proxy({},s)}let r=n,a="dyte-prefs",l=(e,t)=>{let i=JSON.parse(r.getItem(a)||"{}");i[e]=JSON.stringify(t),r.setItem("dyte-prefs",JSON.stringify(i))},o=e=>JSON.parse(r.getItem(a)||"{}")[e],u=()=>{let e=JSON.parse(r.getItem(a)||"{}"),t=!e["mirror-video"]||"true"===e["mirror-video"];return{mirrorVideo:t,muteNotificationSounds:!!e["mute-notification-sounds"]&&"true"===e["mute-notification-sounds"]}},c={}}}]);