"use strict";(self.webpackChunkdyte_docs=self.webpackChunkdyte_docs||[]).push([["75650"],{60107:function(e,t,n){n.r(t),n.d(t,{default:()=>d,frontMatter:()=>r,metadata:()=>o,assets:()=>l,toc:()=>c,contentTitle:()=>a});var o=JSON.parse('{"id":"guides/how-to-work-with-plugin-stores","title":"How to work with Plugin Stores","description":"Discover how to effectively work with plugin stores using the Dyte Plugin SDK. Customize and distribute your plugins seamlessly.","source":"@site/docs/plugin-sdk/guides/how-to-work-with-plugin-stores.mdx","sourceDirName":"guides","slug":"/guides/how-to-work-with-plugin-stores","permalink":"/flutterboilerplatedocs/plugin-sdk/guides/how-to-work-with-plugin-stores","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"title":"How to work with Plugin Stores","sidebar_position":1,"description":"Discover how to effectively work with plugin stores using the Dyte Plugin SDK. Customize and distribute your plugins seamlessly."},"sidebar":"tutorialSidebar","previous":{"title":"Operations on Store","permalink":"/flutterboilerplatedocs/plugin-sdk/usage/stores-api/manage-stores"},"next":{"title":"Exchange data between plugin and meeting","permalink":"/flutterboilerplatedocs/plugin-sdk/guides/exchange-data-between-plugin-and-meeting"}}'),s=n("85893"),i=n("50065");let r={title:"How to work with Plugin Stores",sidebar_position:1,description:"Discover how to effectively work with plugin stores using the Dyte Plugin SDK. Customize and distribute your plugins seamlessly."},a=void 0,l={},c=[{value:"Creating stores",id:"creating-stores",level:3},{value:"Subscribing to stores changes",id:"subscribing-to-stores-changes",level:3},{value:"Updating the store",id:"updating-the-store",level:3}];function u(e){let t={admonition:"admonition",code:"code",h3:"h3",p:"p",pre:"pre",...(0,i.a)(),...e.components},{Head:n}=t;return!n&&function(e,t){throw Error("Expected "+(t?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Head",!0),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(t.p,{children:["The plugin SDK offers a realtime key-value database. This can be accessed under\nthe ",(0,s.jsx)(t.code,{children:"plugin.stores"})," modules"]}),"\n",(0,s.jsx)(t.p,{children:"There are a bunch of things you can do with plugin stores. Like\ncreating/deleting stores and basic CRUD operation on every store."}),"\n",(0,s.jsx)(t.h3,{id:"creating-stores",children:"Creating stores"}),"\n",(0,s.jsx)(t.p,{children:"Stores can be global or local. Local stores are available only to the user that\ncreated them while global stores are available to everyone."}),"\n",(0,s.jsx)(t.admonition,{title:"important",type:"danger",children:(0,s.jsx)(t.p,{children:"Store creation is a local event. It is recommended that it occurs for all\nclients."})}),"\n",(0,s.jsx)(t.p,{children:"Here's how you can create a store:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-ts",children:"    // create a global store\n    const videoStore = plugin.stores.create('youtube');\n\n    // create a local store\n    const my-playlist = plugin.stores.create('private-playlist', { local: true });\n"})}),"\n",(0,s.jsx)(t.h3,{id:"subscribing-to-stores-changes",children:"Subscribing to stores changes"}),"\n",(0,s.jsx)(t.p,{children:"Once a store is created the next step would be to subscribe to changes. It is\nrecommended that you do this just after the store is created."}),"\n",(0,s.jsx)(t.p,{children:"You can subscribe to a particular key in the store like so. Please note that you\ndo not need to define a key before subscribing to it."}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-ts",children:"    const videoStore = plugin.stores.create('youtube');\n    videoStore.subscribe('video', (data) => {\n        ...\n    });\n"})}),"\n",(0,s.jsx)(t.h3,{id:"updating-the-store",children:"Updating the store"}),"\n",(0,s.jsx)(t.p,{children:"Updating a key in the store is an asynchronous task. When a user updates the\nstore, it will be updated for all users."}),"\n",(0,s.jsx)(t.p,{children:"All users subscribed to the store will receive a notification for it."}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-ts",children:"const button = document.getElementById('play-video');\nbutton.addEventListener('click', async () => {\n  await videoStore.set('video', {\n    url: 'https://www.youtube.com/watch?v=UGl4XZ_zr5w',\n  });\n  const vid = videoStore.get('video');\n});\n"})}),"\n",(0,s.jsxs)(n,{children:[(0,s.jsx)("title",{children:"Plugin SDK How to work with Plugin Stores"}),(0,s.jsx)("meta",{name:"description",content:"Discover how to effectively work with plugin stores using the Dyte Plugin SDK. Customize and distribute your plugins seamlessly."})]})]})}function d(e={}){let{wrapper:t}={...(0,i.a)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(u,{...e})}):u(e)}},50065:function(e,t,n){n.d(t,{Z:function(){return a},a:function(){return r}});var o=n(67294);let s={},i=o.createContext(s);function r(e){let t=o.useContext(i);return o.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),o.createElement(i.Provider,{value:t},e.children)}}}]);