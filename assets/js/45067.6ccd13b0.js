"use strict";(self.webpackChunkdyte_docs=self.webpackChunkdyte_docs||[]).push([["45067"],{10893:function(t,e,i){i.r(e),i.d(e,{dyte_ai_toggle:function(){return a}});var s=i(84982),r=i(48724),n=i(83041),o=i(39415);i(51943);let a=class{constructor(t){(0,s.r)(this,t),this.stateUpdate=(0,s.c)(this,"dyteStateUpdate",7),this.variant="button",this.states=void 0,this.meeting=void 0,this.size=void 0,this.iconPack=r.d,this.t=(0,n.u)(),this.aiActive=!1}statesChanged(t){let e=t||o.s;this.aiActive=e.activeAI}toggleAI(){let t=this.states||o.s;this.aiActive=!(null==t?void 0:t.activeAI),this.stateUpdate.emit({activeAI:this.aiActive,activeMoreMenu:!1,activeSidebar:!1}),o.s.activeAI=this.aiActive,o.s.activeMoreMenu=!1,o.s.activeSidebar=!1}render(){var t,e;let i=this.t("ai.meeting_ai");return(null===(e=null===(t=this.meeting)||void 0===t?void 0:t.self)||void 0===e?void 0:e.permissions).transcriptionEnabled?(0,s.h)(s.H,{title:i},(0,s.h)("dyte-controlbar-button",{part:"controlbar-button",size:this.size,iconPack:this.iconPack,t:this.t,class:{active:this.aiActive},onClick:()=>this.toggleAI(),icon:this.iconPack.meeting_ai,label:i,variant:this.variant,brandIcon:!0})):null}static get watchers(){return{states:["statesChanged"]}}};a.style=":host{display:block}"},39415:function(t,e,i){let s;i.d(e,{o:function(){return p},s:function(){return g}});var r,n=i(84982),o=i(51943);let a=(t,e,i)=>{let s=t.get(e);s?!s.includes(i)&&s.push(i):t.set(e,[i])},c=t=>!("isConnected"in t)||t.isConnected;let u=(r=t=>{for(let e of t.keys())t.set(e,t.get(e).filter(c))},(...t)=>{s&&clearTimeout(s),s=setTimeout(()=>{s=0,r(...t)},2e3)}),l=()=>{if("function"!=typeof n.g)return{};let t=new Map;return{dispose:()=>t.clear(),get:e=>{let i=(0,n.g)();i&&a(t,e,i)},set:e=>{let i=t.get(e);i&&t.set(e,i.filter(n.f)),u(t)},reset:()=>{t.forEach(t=>t.forEach(n.f)),u(t)}}},h=t=>"function"==typeof t?t():t,d=(t,e=(t,e)=>t!==e)=>{let i=h(t),s=new Map(Object.entries(null!=i?i:{})),r={dispose:[],get:[],set:[],reset:[]},n=()=>{var e;s=new Map(Object.entries(null!==(e=h(t))&&void 0!==e?e:{})),r.reset.forEach(t=>t())},o=t=>(r.get.forEach(e=>e(t)),s.get(t)),a=(t,i)=>{let n=s.get(t);e(i,n,t)&&(s.set(t,i),r.set.forEach(e=>e(t,i,n)))},c="undefined"==typeof Proxy?{}:new Proxy(i,{get:(t,e)=>o(e),ownKeys:t=>Array.from(s.keys()),getOwnPropertyDescriptor:()=>({enumerable:!0,configurable:!0}),has:(t,e)=>s.has(e),set:(t,e,i)=>(a(e,i),!0)}),u=(t,e)=>(r[t].push(e),()=>{f(r[t],e)});return{state:c,get:o,set:a,on:u,onChange:(e,i)=>{let s=u("set",(t,s)=>{t===e&&i(s)}),r=u("reset",()=>i(h(t)[e]));return()=>{s(),r()}},use:(...t)=>{let e=t.reduce((t,e)=>(e.set&&t.push(u("set",e.set)),e.get&&t.push(u("get",e.get)),e.reset&&t.push(u("reset",e.reset)),e.dispose&&t.push(u("dispose",e.dispose)),t),[]);return()=>e.forEach(t=>t())},dispose:()=>{r.dispose.forEach(t=>t()),n()},reset:n,forceUpdate:t=>{let e=s.get(t);r.set.forEach(i=>i(t,e,e))}}},f=(t,e)=>{let i=t.indexOf(e);i>=0&&(t[i]=t[t.length-1],t.length--)},{state:g,onChange:p}=((t,e)=>{let i=d(t,void 0);return i.use(l()),i})({prefs:(0,o.g)()})},51943:function(t,e,i){let s;i.d(e,{a:function(){return n},b:function(){return c},c:function(){return l},g:function(){return u},s:function(){return a}});let r={get:(t,e,i)=>(...s)=>{try{return Reflect.get(t,e,i).apply(t,s)}catch(t){return null}}};try{s=new Proxy(localStorage,r)}catch(t){s=new Proxy({},r)}let n=s,o="dyte-prefs",a=(t,e)=>{let i=JSON.parse(n.getItem(o)||"{}");i[t]=JSON.stringify(e),n.setItem("dyte-prefs",JSON.stringify(i))},c=t=>JSON.parse(n.getItem(o)||"{}")[t],u=()=>{let t=JSON.parse(n.getItem(o)||"{}"),e=!t["mirror-video"]||"true"===t["mirror-video"];return{mirrorVideo:e,muteNotificationSounds:!!t["mute-notification-sounds"]&&"true"===t["mute-notification-sounds"]}},l={}}}]);