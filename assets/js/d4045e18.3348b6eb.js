"use strict";(self.webpackChunkdyte_docs=self.webpackChunkdyte_docs||[]).push([["45246"],{33220:function(e,n,t){t.r(n),t.d(n,{default:()=>c,frontMatter:()=>d,metadata:()=>i,assets:()=>a,toc:()=>l,contentTitle:()=>s});var i=JSON.parse('{"id":"build-pre-call-ui/build-your-own/edit-user-name","title":"Edit user name","description":"A common use case of pre-call UI is to give the user a option to set / edit their name.","source":"@site/docs/android/build-pre-call-ui/build-your-own/edit-user-name.mdx","sourceDirName":"build-pre-call-ui/build-your-own","slug":"/build-pre-call-ui/build-your-own/edit-user-name","permalink":"/android/build-pre-call-ui/build-your-own/edit-user-name","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"title":"Edit user name","sidebar_position":2},"sidebar":"tutorialSidebar","previous":{"title":"Basic structure","permalink":"/android/build-pre-call-ui/build-your-own/initial-code-skeleton"},"next":{"title":"Audio/video - Preview","permalink":"/android/build-pre-call-ui/build-your-own/add-audio-video-preview"}}'),o=t("85893"),r=t("50065");let d={title:"Edit user name",sidebar_position:2},s=void 0,a={},l=[{value:"Permissions",id:"permissions",level:3},{value:"File: CustomMeetingPreview.tsx",id:"file-custommeetingpreviewtsx",level:3}];function u(e){let n={code:"code",h3:"h3",p:"p",pre:"pre",...(0,r.a)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.p,{children:"A common use case of pre-call UI is to give the user a option to set / edit their name."}),"\n",(0,o.jsx)(n.h3,{id:"permissions",children:"Permissions"}),"\n",(0,o.jsxs)(n.p,{children:["Requires ",(0,o.jsx)(n.code,{children:"meeting.localUser.permissions.miscellaneous.canEditDisplayName"})," to be ",(0,o.jsx)(n.code,{children:"true"})]}),"\n",(0,o.jsxs)(n.p,{children:["In the preset editor, ensure ",(0,o.jsx)(n.code,{children:"Miscellaneous > Edit Name"})," is toggled enabled."]}),"\n",(0,o.jsx)("img",{src:"/static/react/preset-edit-name.png"}),"\n",(0,o.jsx)(n.h3,{id:"file-custommeetingpreviewtsx",children:"File: CustomMeetingPreview.tsx"}),"\n",(0,o.jsxs)(n.p,{children:["We add a ",(0,o.jsx)(n.code,{children:"<DyteInputField>"})," element for entering the participant name. We should not show this input if the user doese not have permission to edit name (",(0,o.jsx)(n.code,{children:"meeting.localUser.permissions.miscellaneous.canEditDisplayName"}),")"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-xml",metastring:"{15, 21}",children:'<?xml version="1.0" encoding="utf-8"?>\n<androidx.constraintlayout.widget.ConstraintLayout \n  ....\n  >\n\n  <dyte.io.uikit.view.DyteLabel\n    android:id="@+id/dyteLabelView"\n    android:layout_width="300dp"\n    android:layout_height="25dp"\n    android:text="Join in as %s"\n    android:textColor="#fff"\n    android:textSize="16sp"\n  />\n\n  <dyte.io.uikit.view.DyteInputField\n    android:contentDescription="Textbox for display name"\n    android:id="@+id/textInputEditText"\n    android:layout_width="300dp"\n    android:layout_height="48dp"\n    android:hint="Your name"\n  />\n\n  <dyte.io.uikit.view.DyteJoinButton\n    android:contentDescription="Button for joining meeting"\n    android:id="@+id/dytejoinbutton_setup_screen"\n    android:layout_width="300dp"\n    android:layout_height="wrap_content"\n  />\n\n</androidx.constraintlayout.widget.ConstraintLayout>\n'})}),"\n",(0,o.jsx)(n.p,{children:"And on the kolin side we bind the newly added element like follows:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-kotlin",children:"nameAtom.addTextChangedListener(\n  object : TextWatcher {\n    override fun beforeTextChanged(s: CharSequence?, start: Int, count: Int, after: Int) {\n      // no-op\n    }\n\n    override fun onTextChanged(s: CharSequence?, start: Int, before: Int, count: Int) {\n      // no-op\n    }\n\n    override fun afterTextChanged(s: Editable?) {\n      meeting.self.setDisplayName(s?.toString()) \n    }\n  }\n)\n"})}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.code,{children:"meeting.self.setDisplayName(participantName)"})," sets the new name for the participant."]}),"\n",(0,o.jsxs)(n.p,{children:["At the end, we let user join the meeting using ",(0,o.jsx)(n.code,{children:"meeting.join();"}),"."]})]})}function c(e={}){let{wrapper:n}={...(0,r.a)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(u,{...e})}):u(e)}},50065:function(e,n,t){t.d(n,{Z:function(){return s},a:function(){return d}});var i=t(67294);let o={},r=i.createContext(o);function d(e){let n=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:d(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);